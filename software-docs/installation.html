<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Installation | DIYAutoFeed</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Installation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The DIYAutoFeed website" />
<meta property="og:description" content="The DIYAutoFeed website" />
<link rel="canonical" href="https://diyautofeed.com/software-docs/installation" />
<meta property="og:url" content="https://diyautofeed.com/software-docs/installation" />
<meta property="og:site_name" content="DIYAutoFeed" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Installation" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The DIYAutoFeed website","headline":"Installation","url":"https://diyautofeed.com/software-docs/installation"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y1W3HNYYLN"></script>
<script>
  window['ga-disable-G-Y1W3HNYYLN'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-Y1W3HNYYLN');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                DIYAutoFeed
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <div class="navbar-item has-dropdown is-hoverable ">
                        <a href="/software-docs/" class="navbar-link is-active">Software Documentation</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/software-docs/installation" class="navbar-item is-active">Installation</a>
                            
                            <a href="/software-docs/upgrading" class="navbar-item ">Upgrading</a>
                            
                            <a href="/software-docs/faq" class="navbar-item ">FAQ</a>
                            
                            <a href="/software-docs/commander" class="navbar-item ">AutoFeed Commander</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <a href="/reservoirs/" class="navbar-item ">Reservoir Builds</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable ">
                        <a href="/misc-automation/" class="navbar-link ">Other Automation</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/misc-automation/temp-humidity" class="navbar-item ">Temperature/Humidity</a>
                            
                        </div>
                    </div>
                    
                
                
            </div>

            <div class="navbar-end">
                
                <a class="navbar-item" href="https://github.com/sponsors/StarlightAutomation">
                    <span class="icon gh-sponsor"><i class="fas fa-heart"></i></span>
                    <span>Sponsor</span>
                </a>
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-medium  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">Installation</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    
<div class="content">
    <h1 id="pre-requisites">Pre-Requisites</h1>
<p>The software platform is intended to run on a Raspberry Pi or similar device. The device you intend to install the platform on should be <code class="language-plaintext highlighter-rouge">arm64</code> or <code class="language-plaintext highlighter-rouge">amd64</code> based, as those are the two architectures supported currently.</p>

<h3 id="download-os-image">Download OS Image</h3>

<p>The latest OS image release can be found on the <a href="https://github.com/StarlightAutomation/autofeed-backend/releases">Releases Page</a>.</p>

<p><img src="https://user-images.githubusercontent.com/44447928/160199892-46112e6b-a6f4-4982-abc1-6cfd899795eb.png" alt="image" /></p>

<p>Select one of the image files according to your CPU architecture/desired Raspbian release. Unzipping this file will result in an <code class="language-plaintext highlighter-rouge">autofeed.img</code> image.</p>

<h1 id="flashing-os-image-using-raspberry-pi-imager">Flashing OS Image using Raspberry Pi Imager</h1>
<p>First, download and install the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a>.</p>

<p>Next, select <code class="language-plaintext highlighter-rouge">Use Custom</code> from the OS image selection screen. Find and set the <code class="language-plaintext highlighter-rouge">autofeed.img</code> that you downloaded in the last step.</p>

<p><img src="https://user-images.githubusercontent.com/44447928/160200147-3533158c-0211-4e7e-b259-525726f4f065.png" alt="image" /></p>

<p>Now, use the key combination <code class="language-plaintext highlighter-rouge">Ctrl + Shift + X</code> to open the customization dialog. This screen will allow you to set your hostname, <code class="language-plaintext highlighter-rouge">pi</code> user password, specify wifi config information, set timezone, etc. All of these are important settings. You should at least set your timezone, as the system relies on this setting for your schedules.</p>

<p><img src="https://user-images.githubusercontent.com/44447928/160200422-f0a8073f-ddf5-4e86-80d3-4f3bae4cd961.png" alt="image" /></p>

<p>Select your storage device and click <code class="language-plaintext highlighter-rouge">Write</code>. Once complete, insert the SD card into the Raspberry Pi and boot.</p>

<h2 id="dashboard">Dashboard</h2>
<p>The dashboard can be reached at <code class="language-plaintext highlighter-rouge">http://&lt;hostname&gt;:3000</code>. If you did not customize your hostname, you will likely be able to reach the device at <code class="language-plaintext highlighter-rouge">http://raspberrypi.local:3000</code>.</p>

<h2 id="troubleshooting">Troubleshooting</h2>
<p>Can’t find the dashboard? Try SSH’ing into your device to debug. You will need to have specified the SSH configuration when flashing the OS image.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
</code></pre></div></div>
<p>This command shows running containers on the host device. There should be two containers running:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">autofeed-server</code> - the API (which can be located at <code class="language-plaintext highlighter-rouge">&lt;hostname&gt;:8080</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">autofeed-client</code> - the user interface (which can be located at <code class="language-plaintext highlighter-rouge">&lt;hostname&gt;:3000</code>)</li>
</ul>

<p>If either of these containers are not running, check the following:</p>
<ol>
  <li>Disk Space</li>
  <li>Attempt a manual run</li>
</ol>

<h3 id="disk-space">Disk Space</h3>
<p>Your device should resize the root SD partition to the full card size on first boot. If this didn’t happen, you may not have enough disk space to pull docker images. You can check this with <code class="language-plaintext highlighter-rouge">df -h</code>.</p>

<p><img src="https://user-images.githubusercontent.com/44447928/160200957-353b6d2a-6818-43ac-a610-7d16cf5b94ce.png" alt="image" /></p>

<p>Your <code class="language-plaintext highlighter-rouge">/dev/root</code> filesystem should be roughly the size of your SD card. If this size is lower (e.g. 4-6 GB), you will need to resize the partition using <code class="language-plaintext highlighter-rouge">raspi-config</code>. Details on this process can be found <a href="https://elinux.org/RPi_Resize_Flash_Partitions">here</a>.</p>

<h3 id="attempt-a-manual-run">Attempt a manual run</h3>
<p>First, pull each image:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ghcr.io/starlightautomation/autofeed-server:latest
docker pull ghcr.io/starlightautomation/autofeed-client:latest
</code></pre></div></div>

<p>Next, tag the images according to what the system expects:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag ghcr.io/starlightautomation/autofeed-server:latest autofeed-server
docker tag ghcr.io/starlightautomation/autofeed-client:latest autofeed-client
</code></pre></div></div>

<p>Finally, run each container:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/autofeed/start-container.sh server
/etc/autofeed/start-container.sh client
</code></pre></div></div>

</div>
                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
        </div>
    </div>
</footer>

    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>
</html>
